
# Fullon Master API - Environment Configuration
# Copy this file to .env and update with your values

# ==========================================
# API Configuration
# ==========================================
API_TITLE="Fullon Master API"
API_VERSION="1.0.0"
API_PREFIX="/api/v1"

# ==========================================
# JWT Authentication
# ==========================================
# REQUIRED: Generate a secure random secret key
# Example: openssl rand -hex 32
JWT_SECRET_KEY=your-secret-key-here-change-this-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRATION_MINUTES=60

# ==========================================
# API Key Authentication
# ==========================================
# Enable API key authentication alongside JWT
ENABLE_API_KEY_AUTH=true
API_KEY_HEADER_NAME=X-API-Key

# ==========================================
# CORS Configuration
# ==========================================
CORS_ORIGINS=["http://localhost:3000", "http://localhost:8080"]
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=["*"]
CORS_ALLOW_HEADERS=["*"]

# ==========================================
# Logging Configuration (fullon_log)
# ==========================================
# Fullon-Log Configuration
LOG_LEVEL=INFO
LOG_FORMAT=beautiful
LOG_CONSOLE=true
LOG_COLORS=true
LOG_FILE_PATH=  # Empty = disabled (was: /tmp/fullon_log/fullon_ohlcv.log - caused loguru format errors)
#LOG_ROTATION=100 MB

# ==========================================
# Server Configuration
# ==========================================
HOST=0.0.0.0
PORT=8000
RELOAD=false

# ==========================================
# Database Configuration (fullon_orm)
# ==========================================
DB_HOST=10.237.48.188
DB_PORT=5432
DB_USER=fullon
DB_PASSWORD=
DB_NAME=fullon2
DB_OHLCV_NAME=fullon2
DB_TEST_NAME=fullon2_test
DB_POOL_SIZE = 20
DB_POOL_MAX_OVERFLOW = 30

# ==========================================
# Cache Configuration (dogpile.cache and redis)
# ==========================================
CACHE_HOST = localhost
CACHE_PORT = 6379
CACHE_DB = 0
CACHE_USER =  None
CACHE_PASSWORD = None 
CACHE_TIMEOUT = 30
CACHE_LOG = 15

# ==========================================
# Performance Configuration
# ==========================================
UVLOOP_ENABLED=true

# ==========================================
# EXCHANGE Configuration
# ==========================================
CCXT_TIMEOUT = 2
ADMIN_MAIL = admin@fullon

# ==========================================
# Service Manager Configuration (Issue #44)
# ==========================================
# Auto-start services on application startup
SERVICE_AUTO_START_ENABLED=true

# List of services to auto-start (JSON array format)
# Available services: ticker, ohlcv, account
SERVICES_TO_AUTO_START=["ticker", "ohlcv", "account"]

# ==========================================
# Health Monitor Configuration (Issue #43)
# ==========================================
# Enable/disable health monitoring system
HEALTH_MONITOR_ENABLED=true

# How often to perform health checks (in seconds)
HEALTH_CHECK_INTERVAL_SECONDS=300

# Consider process stale if inactive for this many minutes
HEALTH_STALE_PROCESS_THRESHOLD_MINUTES=10

# Enable automatic service restart on health check failures
HEALTH_AUTO_RESTART_ENABLED=true

# Cooldown period between auto-restarts (in seconds)
HEALTH_AUTO_RESTART_COOLDOWN_SECONDS=300

# Maximum auto-restarts allowed per hour (prevents restart loops)
HEALTH_AUTO_RESTART_MAX_PER_HOUR=5

# Services to monitor (JSON array format)
HEALTH_SERVICES_TO_MONITOR=["ticker", "ohlcv", "account"]

# Enable specific health check types
HEALTH_ENABLE_PROCESS_CACHE_CHECKS=true
HEALTH_ENABLE_DATABASE_CHECKS=true
HEALTH_ENABLE_REDIS_CHECKS=true

# ==========================================
# FULLON CREDENTIALS
# ==========================================
# Google Cloud Secrets Manager (Production)
GOOGLE_SECRET=your-gcp-secret-name
GOOGLE_CREDENTIALS=/path/to/service-account-key.json

# Alternative Kraken credentials (used by some examples) used in demo
EX_ID_1_KEY=mLnh0Laya0n82KnwrCxghAHEYMiBJr95gzDR87XFUpLVhIfw2/URhVCy
EX_ID_1_SECRET=1003w26PkS1JvsWrU6p6BUX/ctZpnOUQ8a4RlvjFXRXta9roYAlVR20fg30M35ZS4QPgY6XfxRTsN1xH0InQQw==

# Alternative BitMEX credentials
EX_ID_2_KEY=DwnqITpbfZHwdAjjLgZEWi8e
EX_ID_2_SECRET=VgBKjDPsWhinw5q1MCzJZHyNz930DQL4E1mCwnX-7NUNOQpe

# Alternative hyperliquid credentials for the demo
EX_ID_3_KEY=0xe5DF0aAD0875d19f983E41d803729FB719E9DC5d
EX_ID_3_SECRET=0x059f359f8e731debe13e72e38b83f349a2920eb9755b8216482499e9eed27ca7